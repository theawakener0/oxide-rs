pub fn format_token_count(n: usize) -> String {
    if n >= 1_000_000 {
        if n % 1_000_000 == 0 {
            format!("{}M", n / 1_000_000)
        } else {
            format!("{:.1}M", n as f64 / 1_000_000.0)
        }
    } else if n >= 1_000 {
        if n % 1_000 == 0 {
            format!("{}k", n / 1_000)
        } else {
            format!("{:.1}k", n as f64 / 1_000.0)
        }
    } else {
        n.to_string()
    }
}
